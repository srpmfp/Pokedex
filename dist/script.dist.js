let pokemonRepository = function () { let t = []; function e(e) { t.push(e) } function n(t, e, n) { let o = document.querySelector(".modal-body"); o.innerHTML = ""; let a = document.createElement("h5"); a.innerText = t, a.id = "modal-title"; let i = document.createElement("p"); i.innerText = "Height: " + n, i.id = "modal-title"; let r = document.createElement("img"); r.src = e, $(o).append(a), $(o).append(r), $(o).append(i) } function o(t) { i(t).then(function () { let e = t.imageUrl, o; n(t.name, e, t.height) }) } function a() { return t } function i(t) { return fetch(t.url).then(function (t) { return t.json() }).then(function (e) { t.imageUrl = e.sprites.front_default, t.height = e.height, t.types = e.types }).catch(function (t) { console.error(t) }) } return { add: e, getAll: a, showDetails: o, addListItem: function t(e) { let n = document.querySelector("#pokemonList"), a = document.createElement("li"); $(a).addClass("list-group-item border-0 bg-secondary "); let i = document.createElement("button"); $(i).addClass("btn bg-success text-white "), $(i).attr("data-toggle", "modal").attr("type", "button").attr("data-target", "#pokemonModal").attr("aria-label", e.name + " button").attr("tabindex", "1"); let r = document.createElement("img"); i.addEventListener("click", function () { o(e) }), i.innerText = e.name, a.append(i), a.append(r), n.append(a) }, loadDetails: i, loadList: function t() { return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function (t) { return t.json() }).then(function (t) { t.results.forEach(function (t) { e({ name: t.name, url: t.url }) }) }).catch(function (t) { console.error(t) }) }, showModal: n } }(); pokemonRepository.loadList().then(function (t) { pokemonRepository.getAll().forEach(function (t) { pokemonRepository.addListItem(t) }) });
