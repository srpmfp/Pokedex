let pokemonRepository = function () { let t = []; function e(t, e, n) { let o = document.querySelector(".modal-body"); o.innerHTML = ""; let a = document.createElement("h5"); a.innerText = t, a.id = "modal-title"; let r = document.createElement("p"); r.innerText = "Height: " + n, r.id = "modal-title"; let i = document.createElement("img"); i.src = e, $(o).append(a), $(o).append(i), $(o).append(r) } function n(t) { a(t).then(function () { let n = t.imageUrl, o; e(t.name, n, t.height) }) } function o() { return t } function a(t) { return fetch(t.url).then(function (t) { return t.json() }).then(function (e) { t.imageUrl = e.sprites.front_default, t.height = e.height, t.types = e.types }).catch(function (t) { console.error(t) }) } return { get: o, showDetails: n, addListItem: function t(e) { let o = document.querySelector("#pokemonList"), a = document.createElement("li"); $(a).addClass("list-group-item border-0 bg-transparent p-1 m-auto"); let r = document.createElement("button"); $(r).addClass("btn btn-success btn-subtle bg-grey-600 "), $(r).attr("data-toggle", "modal").attr("type", "button").attr("data-target", "#pokemonModal").attr("aria-label", e.name + " button").attr("tabindex", "1"); let i = document.createElement("img"); r.addEventListener("click", function () { n(e) }), r.innerText = e.name, a.append(r), a.append(i), o.append(a) }, loadDetails: a, loadList: function e() { return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function (t) { return t.json() }).then(function (e) { e.results.forEach(function (e) { var n; n = { name: e.name, url: e.url }, t.push(n) }) }).catch(function (t) { console.error(t) }) }, showModal: e } }(); pokemonRepository.loadList().then(function (t) { pokemonRepository.get().forEach(function (t) { pokemonRepository.addListItem(t) }) });